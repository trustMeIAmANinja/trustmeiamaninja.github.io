<!DOCTYPE html><html lang="en-US" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Deploying Sish" /><meta property="og:locale" content="en_US" /><meta name="description" content="Sish is a great ngrok alternative to expose any locally hosted app over the web. With Sish you create temporary secure tunnels to locally hosted applications and allow others to intereact with the app with a publicly accessible web address. Its great to quickly expose a development app server without needing to deploy it and setup reverse proxies or mess around with firewalls. Sish can also be used to expose any TCP connection - e.g MySQL DB." /><meta property="og:description" content="Sish is a great ngrok alternative to expose any locally hosted app over the web. With Sish you create temporary secure tunnels to locally hosted applications and allow others to intereact with the app with a publicly accessible web address. Its great to quickly expose a development app server without needing to deploy it and setup reverse proxies or mess around with firewalls. Sish can also be used to expose any TCP connection - e.g MySQL DB." /><link rel="canonical" href="https://trustmeiamaninja.github.io/posts/deploying-sish/" /><meta property="og:url" content="https://trustmeiamaninja.github.io/posts/deploying-sish/" /><meta property="og:site_name" content="Host It!" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-07-23T01:00:00-07:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Deploying Sish" /> <script type="application/ld+json"> {"description":"Sish is a great ngrok alternative to expose any locally hosted app over the web. With Sish you create temporary secure tunnels to locally hosted applications and allow others to intereact with the app with a publicly accessible web address. Its great to quickly expose a development app server without needing to deploy it and setup reverse proxies or mess around with firewalls. Sish can also be used to expose any TCP connection - e.g MySQL DB.","url":"https://trustmeiamaninja.github.io/posts/deploying-sish/","headline":"Deploying Sish","dateModified":"2021-07-23T01:00:00-07:00","datePublished":"2021-07-23T01:00:00-07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://trustmeiamaninja.github.io/posts/deploying-sish/"},"@type":"BlogPosting","@context":"https://schema.org"}</script><title>Deploying Sish | Host It!</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Host It!"><meta name="application-name" content="Host It!"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"><link rel="preconnect" href="https://metrics.wreckr.net"> <script async defer data-domain="trustmeiamaninja.github.io" src="https://metrics.wreckr.net/js/pbl.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap.native@3.0.15/dist/bootstrap-native-v4.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/avatar.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Host It!</a></div><div class="site-subtitle font-italic">My adventures in self-hosting</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/trustmeiamaninja" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Deploying Sish</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Deploying Sish</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> TrustMeIAmANinja </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Fri, Jul 23, 2021, 1:00 AM -0700" prep="on" > Jul 23 <i class="unloaded">2021-07-23T01:00:00-07:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1290 words">7 min</span></div></div><div class="post-content"><p><a href="https://github.com/antoniomika/sish">Sish</a> is a great <code class="language-plaintext highlighter-rouge">ngrok</code> alternative to expose any locally hosted app over the web. With Sish you create temporary secure tunnels to locally hosted applications and allow others to intereact with the app with a publicly accessible web address. Its great to quickly expose a development app server without needing to deploy it and setup reverse proxies or mess around with firewalls. Sish can also be used to expose any TCP connection - e.g MySQL DB.</p><p><code class="language-plaintext highlighter-rouge">sish</code> uses <code class="language-plaintext highlighter-rouge">ssh</code> and its port-forwarding features to establish the required tunnels to expose the internal app. This is a big difference from <code class="language-plaintext highlighter-rouge">ngrok</code> where you don’t need a dedicated client to make the tunnel work.</p><h2 id="requirements">Requirements</h2><ol><li>A registered domain. <em>I will be using mysish.co for my deployment.</em><li>A DNS Hosting service thats support wildcard subdomain. <em>I will be using cloudflare</em><li>API Access to the DNS records to automate the generation of LetsEncrypt SSL Certs.<li>A Linux VPS or some kind of cloud instance with a public IP address.<ul><li><code class="language-plaintext highlighter-rouge">docker</code> and <code class="language-plaintext highlighter-rouge">docker-compose</code> installed on the linux server.<li>Inbound access to port 443 and one port for SSH (typically 22 but any other port will work)</ul></ol><h2 id="setup">Setup</h2><p><code class="language-plaintext highlighter-rouge">ssh</code> to the VPS or cloud host where you plan to deploy <code class="language-plaintext highlighter-rouge">sish</code></p><h3 id="create-working-directory">Create Working directory</h3><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">mkdir</span> ~/sish
<span class="nv">$ </span><span class="nb">cd</span> ~/sish
</pre></table></code></div></div><p>All other commands below will be relative to this working directory.</p><h3 id="checkout-the-sish-git">Checkout the Sish Git</h3><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nv">$ </span>git clone https://github.com/antoniomika/sish src
</pre></table></code></div></div><p>This will create a new directory <code class="language-plaintext highlighter-rouge">src</code> under our working directory <code class="language-plaintext highlighter-rouge">~/sish</code></p><h3 id="prepare-working-directory">Prepare working directory</h3><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">mkdir </span>dnsrobocert keys letsencrypt log pubkeys ssl
<span class="nv">$ </span><span class="nb">cp </span>src/deploy/docker-compose.yml <span class="nb">.</span>
<span class="nv">$ </span><span class="nb">cp </span>src/deploy/le-config.yml dnsrobocert/dnsrobocert-config.yml
</pre></table></code></div></div><h3 id="dnsrobocert-setup">Dnsrobocert setup</h3><p><a href="https://github.com/adferrand/dnsrobocert">DnsRobocert</a> is a dockeried app to request and manage LetsEncrypt SSL certs using the DNS Challenge method. For our use-case we will use DnsRobocert to get wild-card certs for the domain <code class="language-plaintext highlighter-rouge">mysish.co</code>.</p><p><em>NOTE: Sish has support for getting certs from LetsEncrypt, but it requests certs everytime someone uses the service to setup a tunnel with a new subdomain. Depending on how heavy your deployment gets used, you may run into LetsEncrypt quota limits with this method. So its better to get wild-card certs for your domain and not have to go back to LetsEncrypt for every new sub-domain</em></p><p>Since we are using Cloudflare for DNS, we first need to generate an API Token that has Zone Edit access for our domain. Follow the <a href="https://developers.cloudflare.com/api/tokens/create">Cloudflare Docs</a> to create the token using the “Edit Zone DNS” template.</p><p>Edit the file <code class="language-plaintext highlighter-rouge">dnsrobocert/dnsrobocert-config.yml</code> to look like this</p><div class="language-yaml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="na">acme</span><span class="pi">:</span>
  <span class="na">email_account</span><span class="pi">:</span> <span class="s">no-reply@mysish.co</span>
  <span class="na">staging</span><span class="pi">:</span> <span class="no">false</span>
<span class="na">certificates</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">autorestart</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">containers</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">sish</span>
  <span class="na">domains</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">mysish.co</span>
  <span class="pi">-</span> <span class="s1">'</span><span class="s">*.mysish.co'</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">mysish.co</span>
  <span class="na">profile</span><span class="pi">:</span> <span class="s">cloudflare</span>
<span class="na">profiles</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">cloudflare</span>
  <span class="na">provider</span><span class="pi">:</span> <span class="s">cloudflare</span>
  <span class="na">provider_options</span><span class="pi">:</span>
    <span class="na">auth_token</span><span class="pi">:</span> <span class="s">&lt;CLOUDFLARE API TOKEN&gt;</span>
</pre></table></code></div></div><p>The email address <code class="language-plaintext highlighter-rouge">no-reply@mysish.co</code> doesn’t necessarily have to be a valid email address.</p><h3 id="create-cert-symlinks">Create cert symlinks</h3><p>This part is important to ensure that <code class="language-plaintext highlighter-rouge">sish</code> can find the right certs generated by <code class="language-plaintext highlighter-rouge">dnsrobocert</code>.</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">ln</span> <span class="nt">-sf</span> /etc/letsencrypt/live/mysish.co/fullchain.pem ssl/mysish.co.crt
<span class="nv">$ </span><span class="nb">ln</span> <span class="nt">-sf</span> /etc/letsencrypt/live/mysish.co/privkey.pem ssl/mysish.co.key
</pre></table></code></div></div><p>The symlinks will not make sense on the host filesystem. But our <code class="language-plaintext highlighter-rouge">docker-compose.yml</code> will mount certain folders inside each container and this will resolve correctly inside the container.</p><h3 id="add-your-initial-ssh-public-key">Add your initial SSH public key</h3><p>We will be setting up <code class="language-plaintext highlighter-rouge">sish</code> to only use public key authentication. The app automatically loads any public keys it finds in a designated <code class="language-plaintext highlighter-rouge">pubkeys</code> folder. To start off copy your ssh public key to the pubkey folder</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">cp</span> /path/to/ssh_key.pub pubkeys
<span class="c">### OR you can get pubkeys from github if you have added them there</span>
<span class="c">### Replace antoniomika with the github username you want to give access to</span>
<span class="nv">$ </span>curl https://github.com/antoniomika.keys <span class="o">&gt;</span> pubkeys/antoniomika
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">sish</code> doesn’t really care about the username you use for the <code class="language-plaintext highlighter-rouge">ssh</code> auth. It only authenticates the ssh key. At any time you can add additional ssh keys to <code class="language-plaintext highlighter-rouge">pubkeys</code> folder and <code class="language-plaintext highlighter-rouge">sish</code> will automatically load them.</p><h3 id="setup-dns-records">Setup DNS Records</h3><ul><li>Add a DNS A record for <code class="language-plaintext highlighter-rouge">mysish.co</code> to point to the public IP address of your VPS or cloud instance.<li>Add a DNS A record for <code class="language-plaintext highlighter-rouge">*.mysish.co</code> to point to the same IP address.</ul><h3 id="update-docker-composeyml">Update <code class="language-plaintext highlighter-rouge">docker-compose.yml</code></h3><p>For <code class="language-plaintext highlighter-rouge">sish</code> to work it needs to be able to listen on three ports for the three services</p><ul><li>http: typically port 80, but can be changed to any other port. Its best to block inbound access to this port at the firewall and only use https.<li>https: typically port 443, but can be changed.<li>ssh: typically port 22. But since the host <code class="language-plaintext highlighter-rouge">ssh</code> daemon is already using this we will have to use an alternative port. In our case will be using 2222.</ul><p>For docker apps, there are typically two ways for a container to receive outside traffic on a port</p><ul><li>Port forwarding from the host to the container using docker args<li>Run the container in host network mode and have it directly bind to the ports on the host.</ul><p>For this deployment I went with the latter since this is the only service I plan to run on this host.</p><p>Update <code class="language-plaintext highlighter-rouge">docker-compose.yml</code> to look like this.</p><div class="language-yaml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre><td class="rouge-code"><pre><span class="na">version</span><span class="pi">:</span> <span class="s1">'</span><span class="s">3.7'</span>

<span class="na">services</span><span class="pi">:</span>
  <span class="na">letsencrypt</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">adferrand/dnsrobocert:latest</span>
    <span class="na">container_name</span><span class="pi">:</span> <span class="s">dnsrobocert</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">./letsencrypt:/etc/letsencrypt</span>
      <span class="pi">-</span> <span class="s">./dnsrobocert/dnsrobocert-config.yml:/etc/dnsrobocert/config.yml</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">always</span>

  <span class="na">sish</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">antoniomika/sish:main</span>
    <span class="na">container_name</span><span class="pi">:</span> <span class="s">sish</span>
    <span class="na">depends_on</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">letsencrypt</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">./letsencrypt:/etc/letsencrypt</span>
      <span class="pi">-</span> <span class="s">./log:/var/log/sish</span>
      <span class="pi">-</span> <span class="s">./pubkeys:/pubkeys</span>
      <span class="pi">-</span> <span class="s">./keys:/keys</span>
      <span class="pi">-</span> <span class="s">./ssl:/ssl</span>
    <span class="na">command</span><span class="pi">:</span> <span class="pi">|</span>
      <span class="s">--ssh-address=:2222</span>
      <span class="s">--http-address=:80</span>
      <span class="s">--https-address=:443</span>
      <span class="s">--https=true</span>
      <span class="s">--https-certificate-directory=/ssl</span>
      <span class="s">--log-to-file</span>
      <span class="s">--log-to-file-path=/var/log/sish/sish.log</span>
      <span class="s">--log-to-file-max-size=200</span>
      <span class="s">--authentication=true</span>
      <span class="s">--authentication-keys-directory=/pubkeys</span>
      <span class="s">--private-key-location=/keys/ssh_key</span>
      <span class="s">--bind-random-ports=false</span>
      <span class="s">--bind-random-subdomains=false</span>
      <span class="s">--service-console</span>
      <span class="s">--domain=mysish.co</span>
    <span class="na">network_mode</span><span class="pi">:</span> <span class="s">host</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">always</span>
</pre></table></code></div></div><h3 id="start-it-up">Start it up</h3><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nv">$ </span>docker-compose up <span class="nt">-d</span>
</pre></table></code></div></div><p>To check the logs from the app</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>$ tail -f log/sish.log
</pre></table></code></div></div><h3 id="test-it-out">Test it out.</h3><p>Lets says you have a simple python http server running on port 4000 on your laptop that would like to give access to someone. First ensure that you have the private key corresponding to one of the public keys published in the <code class="language-plaintext highlighter-rouge">pubkeys</code> folder on the <code class="language-plaintext highlighter-rouge">sish</code> host.</p><p>On your laptop where you have the development app server running</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>$ ssh -p 2222 -R hostit:80:localhost:4000 mysish.co

</pre></table></code></div></div><p>The important part is this <code class="language-plaintext highlighter-rouge">-R hostit:80:localhost:4000</code>. Lets break this down:</p><ul><li><code class="language-plaintext highlighter-rouge">-R</code> is telling ssh to create a reverse port forward over the ssh connection<li><code class="language-plaintext highlighter-rouge">hostit</code> is the subdomain we are requesting.<li><code class="language-plaintext highlighter-rouge">80</code> indicates that the app on the laptop is using http and not https. This has nothing to do with the final public address that <code class="language-plaintext highlighter-rouge">sish</code> will provide. That can still be accessed over https.<li><code class="language-plaintext highlighter-rouge">localhost</code> is pointing to your laptop. This can also be pointing to some other host thats reachable from your laptop. For e.g. you may have a RaspberryPi running the http server at <code class="language-plaintext highlighter-rouge">192.168.10.23:4000</code> and this can be accessed from your laptop. To have <code class="language-plaintext highlighter-rouge">https://hostit.mysish.so</code> map to this, change <code class="language-plaintext highlighter-rouge">localhost</code> to <code class="language-plaintext highlighter-rouge">192.168.10.23</code><li><code class="language-plaintext highlighter-rouge">4000</code> is the port on which the local http server is listening on.</ul><p>If everything was setup correctly the ssh command will spit out something like this</p><div class="language-text highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>
Press Ctrl-C to close the session.

Starting SSH Forwarding service for https:443. Forwarded connections can be accessed via the following methods:
Service console can be accessed here: https://hostit.mysish.co/_sish/console?x-authorization=akdjfasdFHJh34785
HTTP: http://hostit.mysish.co
HTTPS: https://hostit.mysish.co
</pre></table></code></div></div><p>Now anyone can access https://hostit.mysish.co and to the local http server.</p><h3 id="fail2ban">Fail2ban</h3><p>TODO: Custome <code class="language-plaintext highlighter-rouge">fail2ban</code> filter to ban bots and scanners</p><h2 id="closing-thoughts">Closing Thoughts</h2><p>I deployed <code class="language-plaintext highlighter-rouge">sish</code> mostly as a fun challenge to see if it can be done. If you use <code class="language-plaintext highlighter-rouge">ngrok</code> a lot then maybe running <code class="language-plaintext highlighter-rouge">sish</code> might be worth your time. Another option that be used the same result is Cloudflare’s Argo Tunnel.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/self-hosted/'>self-hosted</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Deploying Sish - Host It!&url=https://trustmeiamaninja.github.io/posts/deploying-sish/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Deploying Sish - Host It!&u=https://trustmeiamaninja.github.io/posts/deploying-sish/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Deploying Sish - Host It!&url=https://trustmeiamaninja.github.io/posts/deploying-sish/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/deploying-ihatemoney/"><div class="card-body"> <span class="timeago small" > Jul 20 <i class="unloaded">2021-07-20T01:00:00-07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Deploying IHateMoney</h3><div class="text-muted small"><p> IHateMoney is a web application made to ease shared budget management. It keeps track of who bought what, when, and for whom; and helps to settle the bills. Its very to easy to deploy in a self-ho...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/deploying-ihatemoney/" class="btn btn-outline-primary" prompt="Older"><p>Deploying IHateMoney</p></a> <span class="btn btn-outline-primary disabled" prompt="Newer"><p>-</p></span></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://github.com/trustmeiamaninja">TrustMeIAmANinja</a>.</p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://trustmeiamaninja.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
